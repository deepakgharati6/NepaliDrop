<!DOCTYPE html>
<html lang="en">
<head>

  <!-- ================== SEO META START ================== -->

<title>ByteShalaDrop – Secure Peer-to-Peer File Transfer | End-to-End Encrypted</title>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<!-- Primary SEO -->
<meta name="title" content="ByteShalaDrop – Secure Peer-to-Peer File Transfer">
<meta name="description" content="ByteShalaDrop is a fast, secure, end-to-end encrypted peer-to-peer file sharing platform using WebRTC. No servers, no tracking, 100% private.">
<meta name="keywords" content="secure file transfer, p2p file sharing, encrypted file sharing, WebRTC file transfer, private file sharing, ByteShalaDrop">
<meta name="author" content="ByteShala">
<meta name="robots" content="index, follow">
<meta name="googlebot" content="index, follow">

<!-- App / Theme -->
<meta name="application-name" content="ByteShalaDrop">
<meta name="theme-color" content="#020617">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<!-- Canonical -->
<link rel="canonical" href="https://byteshala.com/">

<!-- Favicon / Icons -->
<link rel="icon" type="image/png" href="https://share.yojana.com.np/img/share-icon.png">
<link rel="apple-touch-icon" href="https://share.yojana.com.np/img/share-icon.png">

<!-- Open Graph (Facebook, LinkedIn) -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://byteshaladrop.com/">
<meta property="og:title" content="ByteShalaDrop – Secure Encrypted File Transfer">
<meta property="og:description" content="Send files instantly using secure peer-to-peer WebRTC technology. No uploads, no tracking, fully encrypted.">
<meta property="og:image" content="https://share.yojana.com.np/img/share-icon.png">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="https://byteshala.com/">
<meta name="twitter:title" content="ByteShalaDrop – Secure P2P File Sharing">
<meta name="twitter:description" content="Fast, serverless, end-to-end encrypted file sharing platform.">
<meta name="twitter:image" content="https://share.yojana.com.np/img/share-icon.png">

<!-- Structured Data (Google SEO Boost) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "ByteShalaDrop",
  "operatingSystem": "Web",
  "applicationCategory": "FileTransfer",
  "description": "Secure peer-to-peer file transfer using end-to-end encryption and WebRTC.",
  "url": "https://byteshaladrop.com",
  "author": {
    "@type": "Organization",
    "name": "ByteShala"
  }
}
</script>

<!-- ================== SEO META END ================== -->

  
  
  
  
  
  
  
  
  
  
  
  
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    
    
    
    
    
    
    
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap');

        :root {
            font-family: 'Plus Jakarta Sans', sans-serif;
        }

        body {
            background-color: #020617;
            color: #f8fafc;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        /* Responsive Mesh Background */
        .mesh-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            background: 
                radial-gradient(at 0% 0%, rgba(59, 130, 246, 0.2) 0, transparent 50%),
                radial-gradient(at 100% 0%, rgba(139, 92, 246, 0.2) 0, transparent 50%),
                radial-gradient(at 50% 50%, rgba(37, 99, 235, 0.1) 0, transparent 60%);
            filter: blur(80px);
            animation: meshMove 15s ease infinite alternate;
        }

        @keyframes meshMove {
            0% { transform: scale(1) translate(0, 0); }
            100% { transform: scale(1.2) translate(5%, 5%); }
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.7);
        }

        .premium-card {
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .premium-card:hover {
            transform: translateY(-8px);
            border-color: rgba(59, 130, 246, 0.4);
            background: rgba(30, 41, 59, 0.8);
        }

        .radar-pulse {
            position: absolute;
            width: clamp(300px, 80vw, 800px);
            height: clamp(300px, 80vw, 800px);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 50%;
            animation: radar-grow 6s linear infinite;
        }

        @keyframes radar-grow {
            0% { transform: scale(0.2); opacity: 0; }
            50% { opacity: 0.3; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        /* TV/Large Screen Optimization */
        @media (min-width: 1920px) {
            h1 { font-size: 3rem !important; }
            .max-w-md { max-w-lg !important; }
        }

        /* Mobile Optimization */
        @media (max-width: 640px) {
            .glass-panel { border-radius: 2rem; }
            /* Add padding to the top and bottom of the main content to prevent overlap with fixed header/footer */
            #main-content {
                padding-top: 140px;
                padding-bottom: 100px;
            }
        }

        .shimmer {
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.05), transparent);
            background-size: 200% 100%;
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4 sm:p-8">
    <div class="mesh-bg"></div>

    <!-- Global Header -->
    <header class="fixed top-0 w-full p-6 sm:p-10 flex flex-col sm:flex-row justify-between items-center z-50 gap-4 bg-slate-950/40 backdrop-blur-md sm:bg-transparent sm:backdrop-blur-none">
        <div class="flex items-center gap-3 group">
            <div class="bg-gradient-to-br from-blue-500 to-indigo-600 p-2.5 rounded-xl shadow-lg shadow-blue-500/20 group-hover:scale-110 transition-transform duration-500">
               
              <img src="https://share.yojana.com.np/img/share-icon.png" style="width:30px;">

                </div>
            <div class="text-center sm:text-left">
                <h1 class="text-xl sm:text-2xl font-black tracking-tight leading-none text-white">ByteShala<span class="text-blue-500">Drop</span></h1>
                <p class="text-[10px] font-bold text-slate-500 tracking-[0.2em] uppercase mt-1">Direct Secure Relay</p>
            </div>
        </div>
        
        <div id="status-container" class="glass-panel px-4 py-2 rounded-full flex items-center gap-3 scale-90 sm:scale-100">
            <div id="status-dot" class="w-2 h-2 bg-yellow-500 rounded-full animate-pulse"></div>
            <span id="status-text" class="text-[10px] font-extrabold uppercase tracking-widest text-slate-400">Syncing...</span>
        </div>
    </header>

    <!-- Visual radar behind content -->
    <div class="absolute inset-0 flex items-center justify-center pointer-events-none overflow-hidden">
        <div class="radar-pulse" style="animation-delay: 0s"></div>
        <div class="radar-pulse" style="animation-delay: 2s"></div>
    </div>

    <!-- Main Container -->
    <main id="main-content" class="w-full max-w-4xl z-10 my-auto">
        
        <!-- START VIEW: Choice -->
        <div id="choice-view" class="grid grid-cols-1 md:grid-cols-2 gap-6 px-4">
            <!-- Create Room Option -->
            <button onclick="showCreateFlow()" class="premium-card glass-panel p-8 sm:p-10 rounded-[2.5rem] flex flex-col items-center text-center group">
                <div class="w-20 h-20 bg-blue-500/10 rounded-3xl flex items-center justify-center mb-6 group-hover:bg-blue-600 transition-colors duration-500">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="group-hover:stroke-white transition-colors"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
                </div>
                <h3 class="text-2xl font-bold mb-3 text-white">Create Room</h3>
                <p class="text-slate-400 text-sm leading-relaxed mb-6">Start a new secure session and generate a unique PIN for others to join.</p>
                <div class="mt-auto py-3 px-6 bg-blue-600/20 text-blue-400 rounded-xl text-xs font-bold uppercase tracking-widest group-hover:bg-blue-600 group-hover:text-white transition-all">Select Creator</div>
            </button>

            <!-- Connect Option -->
            <button onclick="showConnectFlow()" class="premium-card glass-panel p-8 sm:p-10 rounded-[2.5rem] flex flex-col items-center text-center group">
                <div class="w-20 h-20 bg-indigo-500/10 rounded-3xl flex items-center justify-center mb-6 group-hover:bg-indigo-600 transition-colors duration-500">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#8b5cf6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="group-hover:stroke-white transition-colors"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
                </div>
                <h3 class="text-2xl font-bold mb-3 text-white">Join Room</h3>
                <p class="text-slate-400 text-sm leading-relaxed mb-6">Already have a code? Enter it here to link with an existing session.</p>
                <div class="mt-auto py-3 px-6 bg-indigo-600/20 text-indigo-400 rounded-xl text-xs font-bold uppercase tracking-widest group-hover:bg-indigo-600 group-hover:text-white transition-all">Connect Partner</div>
            </button>
        </div>

        <!-- ACTION VIEW: PIN Input/Display -->
        <div id="action-view" class="hidden glass-panel mx-auto max-w-md rounded-[3rem] p-8 sm:p-12 text-center animate-in fade-in zoom-in duration-500">
            <div id="setup-content">
                <h2 id="action-title" class="text-3xl font-extrabold text-white mb-2">Initialize</h2>
                <p id="action-desc" class="text-slate-400 text-sm mb-8">Set your 6-digit sync code</p>
                
                <div class="relative mb-8">
                    <input type="text" id="pin-field" maxlength="6" 
                        class="w-full bg-slate-800/40 border-2 border-slate-700/50 rounded-3xl p-6 text-center text-4xl sm:text-5xl font-black text-blue-500 tracking-[0.3em] sm:tracking-[0.5em] outline-none focus:border-blue-500 focus:bg-slate-800/80 transition-all"
                        placeholder="000000">
                </div>

                <div class="flex flex-col gap-3">
                    <button id="action-btn" onclick="startEngine()" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-black py-5 rounded-3xl shadow-xl transition-all active:scale-[0.98]">
                        Confirm & Start
                    </button>
                    <button onclick="resetUI()" class="text-xs font-bold text-slate-500 hover:text-white transition-colors uppercase tracking-widest py-2">Go Back</button>
                </div>
            </div>

            <!-- Waiting state (inside the card) -->
            <div id="waiting-content" class="hidden py-8 space-y-8">
                <div class="space-y-2">
                    <p id="waiting-label" class="text-[10px] font-black uppercase tracking-[0.3em] text-blue-400">Syncing Terminal</p>
                    <h2 id="display-pin" class="text-5xl sm:text-6xl font-black text-white tracking-tighter">000000</h2>
                </div>
                <div class="flex justify-center">
                    <div class="relative w-24 h-24">
                        <div class="absolute inset-0 bg-blue-600/20 blur-xl animate-pulse rounded-full"></div>
                        <div class="relative flex items-center justify-center h-full">
                            <svg class="animate-spin text-blue-500" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2v4"/><path d="m16.2 7.8 2.9-2.9"/><path d="M18 12h4"/><path d="m16.2 16.2 2.9 2.9"/><path d="M12 18v4"/><path d="m4.9 19.1 2.9-2.9"/><path d="M2 12h4"/><path d="m4.9 4.9 2.9 2.9"/></svg>
                        </div>
                    </div>
                </div>
                <p class="text-xs text-slate-500 font-medium">Listening for your partner on the global mesh...</p>
                <button onclick="location.reload()" class="text-[10px] font-black text-red-400 uppercase tracking-widest border border-red-400/20 px-4 py-2 rounded-full hover:bg-red-400/10 transition-colors">Disconnect</button>
            </div>
        </div>
    </main>

    <!-- TRANSFER VIEW (Full Screen) -->
    <div id="transfer-modal" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-10 bg-slate-950/90 backdrop-blur-2xl">
        <div class="w-full max-w-xl glass-panel rounded-[3.5rem] p-8 sm:p-16 text-center relative overflow-hidden shimmer">
            <button onclick="location.reload()" class="absolute top-6 right-6 text-slate-500 hover:text-white transition-all">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>
            </button>

            <div class="w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-tr from-blue-600 to-indigo-600 text-white rounded-[2rem] flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-blue-500/40">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>
            </div>

            <h2 id="modal-title" class="text-3xl sm:text-4xl font-black text-white mb-3 tracking-tight">Stable Connection</h2>
            <p class="text-slate-400 font-medium mb-10 text-sm sm:text-base">E2E Encrypted • WebRTC Tunnel Active</p>

            <div id="progress-box" class="hidden mb-10 space-y-4">
                <div class="flex justify-between items-end px-2">
                    <div class="text-left">
                        <p class="text-[9px] font-black uppercase text-blue-500 tracking-[0.2em] mb-1">Transferring</p>
                        <p id="file-name-display" class="text-white font-bold text-sm truncate max-w-[150px] sm:max-w-[250px]">file_name.ext</p>
                    </div>
                    <span id="progress-val" class="text-2xl font-black text-white italic">0%</span>
                </div>
                <div class="w-full bg-white/5 h-3 rounded-full overflow-hidden p-0.5 border border-white/5">
                    <div id="progress-bar" class="bg-gradient-to-r from-blue-500 to-indigo-500 h-full w-0 rounded-full transition-all duration-300 shadow-[0_0_10px_rgba(59,130,246,0.5)]"></div>
                </div>
            </div>

            <button id="send-btn" onclick="triggerFileInput()" class="w-full bg-white text-slate-950 hover:bg-slate-100 font-black py-5 sm:py-6 rounded-[2rem] shadow-xl transition-all active:scale-95 text-lg flex items-center justify-center gap-4">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M12 12v9"/><path d="m16 16-4-4-4 4"/></svg>
                <span>Upload Files</span>
            </button>
        </div>
    </div>

    <input type="file" id="file-input" class="hidden" multiple>

    <footer class="fixed bottom-0 w-full text-center z-10 pointer-events-none p-6 bg-slate-950/40 backdrop-blur-md sm:bg-transparent sm:backdrop-blur-none sm:bottom-10">
        <p class="text-slate-600 text-[9px] font-black uppercase tracking-[0.5em] leading-relaxed">ByteShala Shield • End-to-End Encrypted Tunnel</p>
    </footer>

    <script>
        let peer;
        let activeConn;
        let myPin = "";
        let isCreatorMode = true;

        // Constants for robust file transfer
        const CHUNK_SIZE = 16384; // 16KB chunks for WebRTC stability

        $(document).ready(function() {
            $('#file-input').on('change', sendFiles);
        });

        function showCreateFlow() {
            isCreatorMode = true;
            $('#choice-view').addClass('hidden');
            $('#action-view').removeClass('hidden');
            $('#action-title').text("Create Room");
            $('#action-desc').text("Set a code for your partner to join");
            $('#pin-field').val(Math.floor(100000 + Math.random() * 900000));
        }

        function showConnectFlow() {
            isCreatorMode = false;
            $('#choice-view').addClass('hidden');
            $('#action-view').removeClass('hidden');
            $('#action-title').text("Join Room");
            $('#action-desc').text("Enter the code shared by your partner");
            $('#pin-field').val("").focus();
        }

        function resetUI() {
            $('#choice-view').removeClass('hidden');
            $('#action-view').addClass('hidden');
        }

        function startEngine() {
            const pin = $('#pin-field').val().trim();
            if (pin.length < 4) return alert("Security PIN must be at least 4 digits.");

            myPin = pin;
            updateStatus('Handshaking...', 'bg-blue-500');
            
            $('#setup-content').addClass('hidden');
            $('#waiting-content').removeClass('hidden');
            $('#display-pin').text(myPin);

            const myIdSuffix = isCreatorMode ? 'X' : 'Y';
            const targetIdSuffix = isCreatorMode ? 'Y' : 'X';
            
            const myPeerId = `bsd-${pin}-${myIdSuffix}`;
            const targetPeerId = `bsd-${pin}-${targetIdSuffix}`;

            // Initialize Peer with high-performance configuration
            peer = new Peer(myPeerId, {
                config: {
                    'iceServers': [
                        { url: 'stun:stun.l.google.com:19302' },
                        { url: 'stun:stun1.l.google.com:19302' }
                    ]
                },
                debug: 1
            });

            peer.on('open', () => {
                updateStatus('Cloud Live', 'bg-green-500');
                
                // Polling logic for high-speed connection
                const findPartner = setInterval(() => {
                    if (activeConn) return clearInterval(findPartner);
                    const conn = peer.connect(targetPeerId, { 
                        reliable: true,
                        serialization: 'binary' // Higher performance for files
                    });
                    setupConnection(conn);
                }, 3000);
            });

            peer.on('connection', (conn) => {
                setupConnection(conn);
            });

            peer.on('error', (err) => {
                if (err.type === 'unavailable-id') {
                    isCreatorMode = !isCreatorMode;
                    startEngine();
                } else {
                    updateStatus('Security Error', 'bg-red-500');
                }
            });
        }

        function setupConnection(conn) {
            conn.on('open', () => {
                activeConn = conn;
                $('#transfer-modal').removeClass('hidden');
                updateStatus('Secure Tunnel', 'bg-indigo-500');
            });

            let receivedData = [];
            let incomingFileName = "";

            conn.on('data', (data) => {
                if (data.type === 'start') {
                    showProgress(true, data.name);
                    receivedData = [];
                    incomingFileName = data.name;
                } else if (data.type === 'chunk') {
                    receivedData.push(data.payload);
                    const progress = Math.floor((receivedData.length / data.totalChunks) * 100);
                    $('#progress-bar').css('width', progress + '%');
                    $('#progress-val').text(progress + '%');
                } else if (data.type === 'end') {
                    const blob = new Blob(receivedData);
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = incomingFileName;
                    a.click();
                    
                    $('#modal-title').text("Received!");
                    setTimeout(() => {
                        $('#modal-title').text("Stable Connection");
                        showProgress(false);
                    }, 3000);
                }
            });
        }

        function triggerFileInput() {
            $('#file-input').click();
        }

        async function sendFiles(e) {
            const files = e.target.files;
            if(!files.length || !activeConn) return;

            const file = files[0];
            showProgress(true, file.name);
            $('#send-btn').addClass('hidden');

            // Fast Binary Chunking Transfer
            const buffer = await file.arrayBuffer();
            const totalChunks = Math.ceil(buffer.byteLength / CHUNK_SIZE);

            activeConn.send({ type: 'start', name: file.name });

            for (let i = 0; i < totalChunks; i++) {
                const start = i * CHUNK_SIZE;
                const end = Math.min(start + CHUNK_SIZE, buffer.byteLength);
                const chunk = buffer.slice(start, end);

                activeConn.send({
                    type: 'chunk',
                    payload: chunk,
                    totalChunks: totalChunks
                });

                // Update UI Progress
                const progress = Math.floor(((i + 1) / totalChunks) * 100);
                $('#progress-bar').css('width', progress + '%');
                $('#progress-val').text(progress + '%');
                
                // Slight delay to prevent congestion on high-speed transfers
                if (i % 5 === 0) await new Promise(r => setTimeout(r, 1));
            }

            activeConn.send({ type: 'end' });
            $('#modal-title').text("Sent!");
            setTimeout(() => {
                showProgress(false);
                $('#send-btn').removeClass('hidden');
                $('#modal-title').text("Stable Connection");
            }, 2500);
        }

        function showProgress(show, name) {
            if(show) {
                $('#progress-box').removeClass('hidden');
                $('#file-name-display').text(name);
                $('#progress-bar').css('width', '0%');
            } else {
                $('#progress-box').addClass('hidden');
            }
        }

        function updateStatus(text, colorClass) {
            $('#status-dot').attr('class', `w-2 h-2 rounded-full shadow-lg ${colorClass} animate-pulse`);
            $('#status-text').text(text);
        }
    </script>
</body>
</html>
